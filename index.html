<!DOCTYPE html>
<html>
<body style="background: #121212; color: white; font-family: sans-serif; padding: 20px;">
    <h2>Meme Coin Assistant</h2>
    <input type="text" id="userPrompt" style="padding: 10px; width: 300px;" placeholder="Ask Gemini...">
    <button onclick="askGemini()" style="padding: 10px; cursor: pointer;">Send</button>
    <p id="response" style="margin-top: 20px; color: #00ff00;"></p>

    <script>
        async function askGemini() {
    const promptInput = document.getElementById('userPrompt').value;
    const responseDiv = document.getElementById('response');
    responseDiv.innerText = "Thinking...";

    try {
        const response = await fetch('http://localhost:8000/generate', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ prompt: promptInput })
        });
        
        const data = await response.json();
        
        // Debugging step: see exactly what the server sent back
        console.log("Server response data:", data);

        // Update the display. If your backend uses 'response', keep it.
        // If it returns an object, we need to pick the right string.
        responseDiv.innerText = data.response || "No response field found in data.";
        
    } catch (error) {
        responseDiv.innerText = "Connection Error: " + error;
    }
}
    </script>
</body>
</html>